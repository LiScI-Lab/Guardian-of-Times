- overview = controller.is_a? Team::ProgressesController

tr
  - if overview
    td
      = progress.member.user.realname

  td #{l(progress.start, format: :short)}
  - if progress.finished?
    td #{l(progress.end, format: :short)}
    td #{distance_of_time_or_null progress.time_spend}
  - else
    td Ongoing
    td #{distance_of_time progress.time_spend, accumulate_on: :hours}
  td #{progress.description}
  td #{progress.tags.join(' ')}
  - unless overview
    td
      - if progress.finished?
        .button-group
          - if can? :edit, progress
            = link_to edit_team_member_progress_path(@team, @member, progress), class: 'btn-floating waves-effect waves-light'
              = mdi_tag 'pencil'
          - if can? :restore, progress
            = link_to restore_team_member_progress_path(@team, @member, progress), class: 'btn-floating waves-effect waves-light green', method: :patch
              = mdi_tag 'delete-restore'
          - elsif can? :destroy, progress
            = link_to team_member_progress_path(@team, @member, progress), class: 'btn-floating waves-effect waves-light red', method: :delete
              = mdi_tag 'delete'
      - else
        = link_to stop_team_member_progress_path(@team, @member, progress), class: 'btn-floating waves-effect waves-light red', method: :patch
          = mdi_tag 'stop'